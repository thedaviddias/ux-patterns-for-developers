@import "tailwindcss";
@import "nextra-theme-docs/style.css";

@variant dark (&:where(.dark, .dark *));

@theme {
  --nextra-bg-color: #000;
  --nextra-bg-color-dark: #000;
}

:root {
  --edge-label-bg: rgba(241, 245, 249, 0.95); /* slate-100 with higher opacity */
  --edge-label-text: #1e293b; /* slate-800 for better contrast */
  --edge-stroke: #334155; /* slate-700 for more visible edges */
  --flow-background-dots: #cbd5e1; /* slate-300 for light mode dots */
}

.dark {
  --edge-label-bg: rgba(15, 23, 42, 0.8); /* slate-900 with opacity */
  --edge-label-text: #e2e8f0; /* slate-200 */
  --edge-stroke: #94a3b8; /* slate-400 */
  --flow-background-dots: #475569; /* slate-600 for dark mode dots */
}

body {
}

/* Constrain maximum width of the main content area */
.nextra-container {
  max-width: 1200px !important;
  margin: 0 auto !important;
}

/* Alternative: Constrain the main content wrapper */
.nextra-content {
  max-width: 1200px !important;
  margin: 0 auto !important;
}

/* For pages with sidebar, adjust the main content area */
.nextra-sidebar-container + .nextra-main {
  max-width: calc(100vw - 300px) !important;
}

/* More specific targeting for Nextra's layout */
.nextra-main {
  max-width: 1200px !important;
  margin: 0 auto !important;
}

/* Target the main content area specifically */
.nextra-main .nextra-content {
  max-width: 100% !important;
}

/* Hide sidebar on homepage and ensure full width */
.nextra-sidebar-container {
  display: none !important;
}

/* Ensure main content uses full width when sidebar is hidden */
.nextra-sidebar-container + .nextra-main {
  max-width: 100% !important;
  width: 100% !important;
  margin-left: 0 !important;
}

/* For the main layout wrapper */
.nextra-layout {
  max-width: 1400px !important;
  margin: 0 auto !important;
}

/* Homepage width constraints (even with layout: 'full') */
.nextra-layout .nextra-content {
  max-width: 1200px !important;
  margin: 0 auto !important;
}

/* Ensure homepage content is constrained */
.nextra-layout .nextra-main {
  max-width: 1200px !important;
  margin: 0 auto !important;
}

.nextra-mobile-nav {
  background-color: white;

  .dark & {
    background-color: black;
  }
}

.featured-pattern {
  @apply relative overflow-hidden rounded-lg border bg-gradient-to-br dark:from-neutral-900/50 dark:to-neutral-900 from-neutral-100/50 to-neutral-100 p-8;
}

.nextra-content img {
  margin-left: auto;
  margin-right: auto;
  display: block;
}

/* Add a caption to the image */
.nextra-content img + em {
  text-align: center;
  display: block;
  margin-top: 0.5em;
}

.nextra-content .contains-task-list li {
  @apply my-2;
}

.pattern-preview {
  display: flex;
  justify-content: center;
  margin: 1rem 0;
  padding: 1rem 0;
  border-radius: 8px;
}

.pattern-preview img {
  max-width: 600px;
  height: auto;
  width: 100%;
}

/* Remove any flex space reserved for TOC */
.nextra-layout > div:last-child {
  flex: 1 !important;
  max-width: 100% !important;
}

/* Remove TOC space completely on internal pages */
nav.nextra-toc {
  display: none !important;
  width: 0 !important;
  max-width: 0 !important;
}

/* Remove TOC container space */
.nextra-toc-container {
  display: none !important;
  width: 0 !important;
  max-width: 0 !important;
}

/* More comprehensive TOC removal */
.nextra-toc,
nav.nextra-toc,
[class*="nextra-toc"],
.x\:order-last.x\:max-xl\:hidden.x\:w-64.x\:shrink-0.x\:print\:hidden {
  display: none !important;
  width: 0 !important;
  max-width: 0 !important;
  position: absolute !important;
  left: -9999px !important;
}
